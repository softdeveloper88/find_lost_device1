import 'package:flutter/material.dart';import 'package:flutter/services.dart';import 'package:sensors/sensors.dart';import 'bill_start_screen.dart';class DontTouchScreen extends StatefulWidget {  @override  _DontTouchScreenState createState() => _DontTouchScreenState();}class _DontTouchScreenState extends State<DontTouchScreen> {  Color _backgroundColor = Colors.indigo;  bool start = false;  static const platform1 = const MethodChannel('flutter.native/helper');  Future<void> responseSensor(bool start) async {    try {      if(start) {        await platform1.invokeMethod("sensorDetectionActive");      }else{        await platform1.invokeMethod("sensorDetectionDeactive");      }    } on PlatformException catch (e) {      print("Failed to Invoke: '${e.message}'.");    }    setState(() {      // _responseFromNativeCode1=res;    });  }  //sensorDetectionActive  /// Upright: [-10, 0, 0]  /// Tilt forward: [0, 0, -10]  /// Tilt backward: [0, 0, 10]  ///  @override  void initState() {    // openSensor();    // TODO: implement initState    super.initState();  }  @override  void dispose() {    // TODO: implement dispose    super.dispose();  }  @override  Widget build(BuildContext context) {    return Scaffold(      backgroundColor: _backgroundColor,      body: Column(        // mainAxisAlignment: MainAxisAlignment.center,        crossAxisAlignment: CrossAxisAlignment.stretch,        children: <Widget>[          Container(            margin: EdgeInsets.only(                top: (MediaQuery.of(context).size.height) / 2 - 60),            child: Text(              "Don't touch phone",              textAlign: TextAlign.center,              style: TextStyle(                fontSize: 24,                color: Colors.white,              ),            ),          ),          Container(            margin:                EdgeInsets.only(top: (MediaQuery.of(context).size.height / 8)),            padding: EdgeInsets.all(10),            child: Center(              child: GestureDetector(                  onTap: () {                    if (start) {                      setState(() {                        start = false;                        responseSensor(false);                      });                    } else {                      setState(() {                        responseSensor(true);                        start = true;                      });                    }                  },                  child: Container(                    padding: EdgeInsets.all(15),                    decoration: BoxDecoration(                      borderRadius: BorderRadius.circular(30),                      color: Colors.amber[700],                    ),                    child: Text(                      start ? "Stop" : "Start",                      style: TextStyle(fontSize: 20),                    ),                  )),            ),          ),        ],      ),    );  }  void openSensor() {    accelerometerEvents.listen((AccelerometerEvent event) {      print(event.x);      print(event.y);      print(event.z);      setState(() {        if(start) {          if (event.y < -3 || event.y > 3 || event.x < -6 || event.x > 6) {            _backgroundColor = Colors.red;            Navigator.pushReplacement(              context,              new MaterialPageRoute(builder: (ctxt) => new BillStartScreen()),            );            start=false;          } else            _backgroundColor = Colors.indigo;        }      });   });  }}